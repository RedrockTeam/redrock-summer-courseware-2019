# 数据结构

## 前言
### 为什么要了解数据结构
- 通识
- 基础
- 考试 & 面试

### 数据结构是什么
> 数据结构是计算机存储、组织数据的方式。数据结构是指相互之间存在一种或多种特定关系的数据元素的集合。通常情况下，精心选择的数据结构可以带来更高的运行或者存储效率。数据结构往往同高效的检索算法和索引技术有关。
> ———— 引用自百度百科词条

我的理解：是人为定制的、让程序更加高效运行的一些东西。

**程序 = 数据结构 + 算法**

### 应用场景

无处不在。

## 基础知识

### 逻辑结构 & 物理结构
根据我们设计以及思考点的不同，分为逻辑结构和物理结构
注：逻辑结构是面向问题，物理结构是面向计算机的，我们的基本目标就是将数据和逻辑关系存储在计算机内存中


#### 逻辑结构
逻辑结构一般指在程序、我们构思的时候呈现的一种结构。
- 集合结构
    数据间有一定的相似点，属于同一个集合，元素之间是没有其他关系的。
    ![1]
- 线性结构
    数据之间是一对一的关系
    ![2]
- 树形结构
    一对多关系
    ![3]
- 图形结构
    多对多关系
    ![4]

#### 物理结构
物理结构一般指逻辑结构在计算机之中的存储形式（指在存储器中的形式）
**需要正确展示数据元素之间的逻辑关系**
- 顺序存储
    数据放在地址连续的存储单元内。
    ![5]
- 链式存储
    存放在任意的存储单元内，可连续也可不连续，用其他的方式将他们连接起来。
    ![6]

### 算法
- 定义
    解决特定问题求解步骤的描述。
- 特性
    - 输入 & 输出
    - 有穷
    - 确定
    - 可行
- 设计要求
    - 正确
    - 可读
    - 健壮
    - 时间效率高 & 存储量低
- 衡量算法效率
    - 时间复杂度
    语句执行总数的数量级，算法的时间量度
    可以忽略加法常数：$O(2n + 3) = O(2n)$
    与最高次项相乘的常数可忽略：$O(2n^2) = O(n^2)$
    最高次项的指数大的，函数随着 n 的增长，结果也会变得增长得更快：$O(n^3) > O(n^2)$
    判断一个算法的（时间）效率时，函数中常数和其他次要项常常可以忽略，而更应该关注主项（最高阶项）的阶数：$O(2n^2 + 3n + 1) = O(n^2)，O(n^3) > O(n^2)$
    - 空间复杂度
    整个算法流程里面占用计算机内存的量，算法的空间量度
    通过一笔空间上面的开销来换取计算时间的技巧

**算法的优劣决定来程序运行的效率**

## 基本数据结构

### 线性表

**定义**
有限个数组的有限序列。
非空表（长度大小为0）中的每个元素都有一个确定的数据位置

**表示形式**
- 顺序存储
    在内存中是使用一段连续的存储单元
    ![7]
    这样只需要知道第一个数据的位置，都能够计算其他元素的位置
    相关操作：
    - 存 & 取 
        时间复杂度为$O(1)$
    - 插入 & 删除
        时间复杂度为$O(n)$
        为了保证插入和删除之后还是跟以前相同，就需要移动其他元素。

    适用场景：
        适用于元素存取较多，增删操作较少的场景。

- 链式存储
    在内存中并没有使用连续的存储单元，而是使用的节点
    ![8]
    由两部分组成：
    **数据域**——存储真实的元素
    **指针域**——存储下一个节点的地址
    > 一般将第一个节点称为头指针，存储链表的第一个元素。
    > 当最后一个节点的指针域为空表示线性表已经到了结尾。
    > 有时候为更方便的对链表操作会在头指针前加一个节点，称为头节点。指针域指向头指针，数据域可为空也可以按照需求进行更改，如图：
    > ![9]
    
    相关操作：
    - 存 & 取 
        时间复杂度为$O(n)$
        由于链表的存储结构不能够直接获得第i个元素的地址，只能够从头节点依次遍历然后找到对应的元素，因此时间复杂度为$O(n)$
    - 插入 & 删除
        时间复杂度为$O(n)$
        时间代价主要体现在遍历寻找需要操作的节点
        假如说已经确认要操作的节点，时间代价只有$O(1)$

    适用场景：
        适用于在已知的节点附近做多次增删操作
    
    拓展：
    - 循环链表
        将单链表的最后节点的指针改为指向头指针
        或者为了方便直接设置一个尾节点，指向终端节点
    - 双向链表
        在节点中再设置了一个指向前驱节点的指针域

### 栈 & 队列

#### 栈
* 定义
    是限定仅在表尾（栈顶）进行插入和删除操作的线性表

    允许插入和删除的一端称为栈顶（top），另一端称为栈底（bottom），
    栈又称为后进先出（Last In First Out）的线性表，简称LIFO结构。
* 表示
    - 顺序存储（顺序栈）
        ![10]
    - 链式存储（链栈）
        ![11]
* 操作
    相关操作时间复杂度都是$O(1)$，因为只能在栈顶进行操作。
    空间复杂度：
     - 顺序栈：需固定一个
     - 链栈：可无限延长
     - 利弊：前者空间固定，便于查找，但假如说数据个数变动很大的话会导致空间不够用；后者空间无限，查找的时候迭代次数太多，但是空间没有限制，能够灵活适应数据个数的大幅度变化。
- 应用
    - 递归
    - 方法栈

#### 队列
* 定义
    是只允许在一端进行插入操作，而在另一端进行删除操作的线性表。
    
    是一种先进先出（First In First Out）的线性表。
    允许插入的一端称为队尾，允许删除的一端称为队头。
* 表示
    因为基于线性表，所以有顺序和栈两种形式
    需要维护两个指针（队头、队尾）
    拓展：循环队列
* 操作
    都是$O(1)$的时间复杂度
* 应用
    消息队列
* 拓展
    循环队列（针对顺序形式的存储）

#### 相同 & 不同
- 相同
    都只能够在固定的位置进行插入和删除的操作
- 不同
    栈：后进先出；队列：先进先出


### 树
* 定义
    是$n(n \geq 0)$个节点的有限集，当$n=0$的时候称为空树。
    在任意一个非空树中
    1. 有且仅有一个特定的节点，称为**根节点**
    2. 当$n>1$，其余节点可分为$m(m > 0)$个*互不相交*的有限集，每一个集合本身也是一棵树，则每个有限集称为是原树的子树。
    ![13]
    3. **强调**
        - 节点大于0的时候根节点是唯一的，不可能存在多个根节点。
        - 子节点大于0的时候，子树的个数没有限制，但是它们一定是互不相交的。
    4. 节点分类 & 节点关系
    5. 其他概念
* 表示
    一般使用链式结构进行存储，因为结构的特殊性导致了树使用顺序结构存储无法很好表示出来。
    1. 双亲表示法
    2. 孩子表示法
####  二叉树
每个节点至多有两个孩子节点
**特点：** 
左右孩子节点不等价，交换节点之后是两棵不一样的二叉树
**特殊的二叉树：**
- 斜树
- 满二叉树
- 完全二叉树

**性质：**
- 在第$i$至多有$2^{i-1}$个节点
- 深度为$k$的二叉树至多有$2^k-1$个节点
- 对任意一棵二叉树，终端节点的个数为$n_0$，度为2的节点数为$n_2$，那么$n_0=n_2+1$
- 有n个节点的完全二叉树深度为$「log_2n」+1$（「x」表示不大于x的最大整数）
- **完全二叉树**可以利用顺序存储结构进行存储
    将完全二叉树的节点按照层序进行编号，对任意节点$i(1\leq i \leq n)$有：
    - 若$i = 1$，则节点$i$是二叉树的根；反之可的其双亲为节点$「i÷2」$
    - 若$2i > n$，则$i$为叶子节点；否则左孩子为节点$2i$
    - 若$2i+1 > n$，则$i$与右孩子；否则右孩子是$2i+1$



**遍历：**

- 前序
    先访问根节点，再前序遍历左子树，在前序遍历右子树（根左右）
    如下图，顺序为ABDGHCEIF
    ![14]
- 中序
    从根节点开始（不访问根节点），中序遍历根节点的左子树，然后再访问根节点，最终中序遍历右子树（左根右）
    如下图，顺序为GDHBAEICF
    ![15]
- 后序
    先访问左叶子节点，再访问右叶子节点，最后访问根节点（左右根）
    如下图，顺序为GHDBIEFCA
    ![16]
- 层序
    从根节点开始，从上而下逐层遍历，同一层中按照从左到右对节点进行访问
    如下图，顺序为ABCDEFGHI
    ![17]

仔细想想，其实前三种遍历都使用了递归的思想。

#### 平衡二叉树
一棵空树或者左右两个子树的高度差绝对不能够超过1，且左右两个子树都是一棵平衡二叉树
常见的平衡二叉树：红黑树、AVL、Treap、伸展树、SBT等

使得查询花费时间与树的高度成比例

#### 线索二叉树

目的是加快查找结点的前驱或后继的速度

如何线索化？以中序遍历为例，若能将中序序列中每个结点前趋、后继信息保存起来，以后再遍历二叉树时就可以根据所保存的结点前趋、后继信息对二叉树进行遍历。对于二叉树的线索化，实质上就是遍历一次二叉树，只是在遍历的过程中，检查当前结点左，右指针域是否为空，若为空，将它们改为指向前驱结点或后继结点的线索。前驱就是在这一点之前走过的点，不是下一将要去往的点。
加上结点前趋后继信息（结索）的二叉树称为线索二叉树

    
### 图
* 定义
    由顶点的有穷非空集合和顶点之间边的集合组成，通常表示为G(V,E)，其中，G表示一个图，V是图G中的顶点的集合，E是图G中边的集合。
    ![18]

    在图里面节点之间的关系是任意的，任意两个数据元素都可以相关。
    在这里，不能够没有顶点，可以没有边
    有些边上也有对应的数据，叫做权值，表示一个顶点到另一个顶点的开销或者耗费
    
* 种类
    - 无向图
    若顶点$v_i$到$v_j$之间的边没有方向，则称这条边为无向边，用无序偶对$(v_i,v_j)$来表示。如果图中任意两个顶点之间的边都是无向边，则该图为无向图。
    ![19]
    - 有向图
    若从顶点$v_i$到$v_j$的边有方向，则称这条边为有向边，也称为弧。用有序偶$<v_i,v_j>$来表示，$v_i$称为弧尾，$v_j$称为弧头。如果图中任意两个顶点之间的边都是有向边，则该图为有向图。如下图所示即为一个有向图：
    ![20]

- 存储
    - 邻接矩阵
        使用二维数组
    - 邻接表    
        使用链表/数组
        eg：
        ![21]
        ![22]
        ![23]

* 遍历
    - 深度优先遍历（DFS）
    - 广度优先遍历（BFS）

- 最小生成树
    构造一个连通图的最小代价
    经典算法：
    - Prim
    - Kruskal
        


### *串
* 定义
    零个或者多个自负组成的有限序列，也称**字符串**

    逻辑与线性表很相似，只是内部的元素只是针对的字符集。

    > 注：空串、null串、空格串
    > 空串：`str = ""` null串：`str = null` 空格串：`str = "     "`
- 存储方式
    - 顺序
    定长数组会预定义最大串长度，可以通过存储实际串长度或者假如一个长度结束标记符来保证获得真实长度的字符串。
    - 链式
    为了防止空间的浪费，在一个节点内放入了多个字符，如果最后一个结点未被占满时，可以使用 "#" 或其他非串值字符补全，如下图所示：
    ![12]
    > 总体来说链式存储的灵活性没有顺序好，性能也不佳。
* 子串
    字符串里面任意个数的连续字符组成的子序列称为字串
    衍生子串查找算法：*朴素查找字串*，*KMP*

[1]:https://upload-images.jianshu.io/upload_images/2222997-da0e0660314bc4c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/410/format/webp
[2]:https://upload-images.jianshu.io/upload_images/2222997-2006977754875cd5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/370/format/webp
[3]:https://upload-images.jianshu.io/upload_images/2222997-f08b69343cdb33eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/404/format/webp
[4]:https://upload-images.jianshu.io/upload_images/2222997-f2491e7358c4fc74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/370/format/webp
[5]:https://upload-images.jianshu.io/upload_images/2222997-c666d8d40dd15b41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/572/format/webp
[6]:https://upload-images.jianshu.io/upload_images/2222997-cfd2bd164abd8bd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/387/format/webp
[7]:https://upload-images.jianshu.io/upload_images/2222997-e7816ca03cf9e185.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/564/format/webp
[8]:https://upload-images.jianshu.io/upload_images/2222997-6ff08f90473e624a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/742/format/webp
[9]:https://upload-images.jianshu.io/upload_images/2222997-368f38351c5fa7b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/899/format/webp
[10]:https://upload-images.jianshu.io/upload_images/2222997-180e18680628434e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/629/format/webp
[11]:https://upload-images.jianshu.io/upload_images/2222997-4d867d13cdb99b1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/302/format/webp
[12]:https://upload-images.jianshu.io/upload_images/2222997-0a56414c25b5c032.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/881/format/webp
[13]:https://upload-images.jianshu.io/upload_images/2222997-34ceb17b7d0ff367.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/421/format/webp
[14]:https://upload-images.jianshu.io/upload_images/2222997-13f4d91e26584092.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/354/format/webp
[15]:https://upload-images.jianshu.io/upload_images/2222997-8cc367f0f3c51ca1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/342/format/webp
[16]:https://upload-images.jianshu.io/upload_images/2222997-2d80fbadabae387a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/362/format/webp
[17]:https://upload-images.jianshu.io/upload_images/2222997-bd0946746b2387f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/357/format/webp
[18]:https://upload-images.jianshu.io/upload_images/2222997-cb3d39c5cd7bdad5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/423/format/webp
[19]:https://upload-images.jianshu.io/upload_images/2222997-f4774857310e15df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/317/format/webp
[20]:https://upload-images.jianshu.io/upload_images/2222997-a6ed0dc75526e67e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/331/format/webp
[21]:http://www.ahalei.com/data/attachment/forum/201404/08/091650e0f00oqrcjcfnq93.png
[22]:http://www.ahalei.com/data/attachment/forum/201404/08/091650gyll6hbqbjyxls8s.png
[23]:http://www.ahalei.com/data/attachment/forum/201404/08/091650h35zq3wgx30x3oe3.png